<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>K-Means in JavaScript, randomly generated data</title>
    <meta name="description" content="K-Means in JavaScript, randomly generated data">
    <meta name="author" content="Ezward">

    <!-- third party includes -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>

    <style>
        .container
        {
            position: absolute;
            top: 5%;
            left: 5%;
            bottom: 5%;
            right: 5%;
        }

        .container canvas
        {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .controls
        {
            position: absolute;
            top: 2%;
            left: 5%;
        }

        .hidden 
        {
            visibility: hidden;
            display: none;
        }

        .inline
        {
            display: inline; 
        }


    </style>

</head>
<body onKeyUp="onKey(event)">
    <div id="controls" class="controls">

        <!-- // select the plot to view: True Labels, Clustered Labels, Cluster Composition -->
        <select onchange="showPlot(this.value)" value="container">
            <option value="container">Dataset Clustered</option>
            <option value="container2">Dataset True Labels</option>
            <option value="container3">Dataset Cluster Composition</option>
        </select>

        <!-- select the random data generation algorithm -->
        <select id="select_generator" value="spherical">
            <option value="spherical">Spherical Data</option>
            <option value="normal">Gaussian Data</option>
        </select>

        <!-- select the random data generation parameters -->
        <div id="dataset_parameters" style="display: inline">
            <span>k=</span><input name="kDataEdit" type="number" value="3" min="1" max="100" />
            <span>n=</span><input name="nDataEdit" type="number" value="100" min="1" max="30000" />
            <span>d=</span><input name="dDataEdit" type="number" value="2" min="2" max="100" />
        </div>

        <!-- select the clustering algorithm: kmeans, kmeans++ or dbscan -->
        <select id="select_algorithm" value="kmeans" onchange="selectAlgorithm(this.value)">
            <option value="kmeans">KMeans</option>
            <option value="kmeans++">KMeans++</option>
            <option value="dbscan">DBSCAN</option>
        </select>

        <!-- edit kmeans/kmeans++ parameters -->        
        <span id="kmeans_parameters">
            <span>k=</span><input name="kEdit" type="number" value="3" min="2" max="10" />
        </span>

        <!-- edit dbscan parameters; epsilon (Îµ), minimum points -->
        <span id="dbscan_parameters" class="hidden">
            <span>&epsilon;=</span><input name="eEdit" type="number" value="0.4" min="0.1" max="5" />
            <span>minimum points=</span><input name="mEdit" type="number" value="4" min="1" max="30" />
        </span>
        <button class="reset" onclick="recalculate()">Recalculate</button>
    </div>

    <div id="container" class="container">
        <canvas></canvas>
    </div>
    <div id = "container2" class="container hidden">
        <canvas></canvas>
    </div>
    <div id = "container3" class="container hidden">
            <canvas></canvas>
    </div>

    <script>
        function recalculate() {
            require('./kmeansRandomMain');
        }
        function onKey(e) {
            if(e.keyCode===13) recalculate();
        }
        function selectAlgorithm(algorithm) {
            if("dbscan" === algorithm) {
                document.getElementById("kmeans_parameters").classList.add('hidden');
                document.getElementById("dbscan_parameters").classList.remove('hidden');
            } else {
                document.getElementById("dbscan_parameters").classList.add('hidden');
                document.getElementById("kmeans_parameters").classList.remove('hidden');
            }
        }
    </script>
    
        <!-- bootstrap application with requirejs -->
    <!-- <script data-main="kmeansRandomRequireConfig.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script> -->

    <!-- either user requirejs (above) OR these script tags, but not both -->
    <!-- bootstrap with explicit script tags so 'view source' works -->
    <script data-root="src/main/js" src="src/main/js/loader/loader.js" ></script>
    <script src="src/main/js/distance/euclideanDistance.js" ></script>
    <script src="src/main/js/kmeans/kmeans.js" ></script>
    <script src="src/main/js/kmeans/kmeanspp.js" ></script>
    <script src="src/main/js/kmeans/randomCentroidInitializer.js" ></script>
    <script src="src/main/js/dbscan/dbscan.js" ></script>
    <script src="src/main/js/dataset/randomData.js" ></script>
    <script src="src/main/js/kmeansRandomApp.js" ></script>
    <script src="src/main/js/kmeansRandomMain.js" onload="recalculate()"></script>

</body>

</html>